<div ng-controller="QueuesCtrl">
	<h4 class='nomargin'>Create a new Queue: <input type="text" ng-model="newQueueName" >&nbsp;	<button class="btn btn-primary btn-sm" ng-disabled="newQueueName.length==0" ng-click="createNewQueue()">Create</button></h4>

	<table class="table table-striped table-bordered table-hover table-condensed small">
		<tr>
			<th class="text-center" ng-repeat="(i,th) in head" ng-class="selectedCls(i)" ng-click="changeSorting(i)">{{th}}<span table-header></span>
			</th>
			<th class="text-center">Actions</th>
		</tr>
		<tr ng-repeat="ent in amqInfo.filteredQueues | filter:filterField | orderBy:sort.column:sort.descending">
			<td ng-repeat="(key, value) in head" class="text-center">
				{{ent[key]}}
			</td>
			<td><div class="text-center"><button type="button" ng-click="showDetails(ent)" class="btn btn-primary btn-sm btn-xs">Details</button></div></td>
		</tr>
	</table>

	<div drag-me class="queue_details" ng-show="currentQueue!=null">
		<div class="topright">
			<h4>
				Queue:{{currentQueue.Name}}
			</h4>
		</div>
		<div class="queue_details_tabs_header">
			<div class="container-fluid">
				<div>
					<ul class="nav nav-tabs">
						<li ng-repeat="tab in detailsTabs" 
							ng-class="{active:isActiveTabDetails(tab.url)}"
							ng-show="tab.visible"
							ng-click="onClickTabDetails(tab)"><a href="#">{{tab.title}}</a>
						</li>
					</ul>
				</div>
			</div>
		</div>

		<div ng-show="currentDetailsTab.title=='Info'" class="queue_details_tabs">
			<div class="queue_details_table nodrag">
				<table class="table table-striped table-bordered table-hover table-condensed">
					<tr>
						<th>Key</th><th>Value</th>
					</tr>
					<tr ng-repeat="(key, value) in currentQueue">			
						<td>{{key}}</td><td>{{currentQueue[key]}}</td>
					</tr>
				</table>					
			</div>		
		</div>

		<div ng-show="currentDetailsTab.title=='Subscribers'" class="queue_details_tabs">
			<div class="queue_details_table nodrag">
				<table class="table table-striped table-bordered table-hover table-condensed">
					<tr>
						<th>Client ID</th><th>Consumer ID</th>
					</tr>
					<tr ng-repeat="sub in subscribers">			
						<td>{{sub.ClientID}}</td><td>{{sub.ConsumerID}}</td>
					</tr>
				</table>					
			</div>
		</div>

		<div class="nodrag queue_details_tabs_footer" style="width:100%;text-align:center;">				
			<button type="button" ng-click="showDetails(null)" class="btn btn-primary btn-sm btn-xs">Close</button>
			<button type="button" ng-click="purgeQueue()" class="btn btn-warning btn-sm btn-xs">Purge</button>
			<button type="button" ng-click="resetStatsQueue()" class="btn btn-warning btn-sm btn-xs">Reset Stats</button>
			<button type="button" ng-click="deleteQueue()" class="btn btn-danger btn-sm btn-xs">Delete</button>
		</div>
	</div>
</div>